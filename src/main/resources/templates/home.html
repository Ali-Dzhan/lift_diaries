<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#efd36c">
    <title>Lifting Diaries | Home</title>
    <link rel="stylesheet" href="/css/common.css">
    <link rel="stylesheet" href="/css/footer.css">
    <link rel="stylesheet" href="/css/header.css">
    <link rel="stylesheet" href="/css/home.css">
    <link rel="icon" href="/images/fav_48px.ico">
    <script src="/css/dropdown.js" defer></script>
</head>

<body>
<div id="app">
    <main class="layout">
        <div class="main-card">
            <th:block th:insert="~{fragments/header :: header}"></th:block>

            <div class="app-title">
                <h1>Welcome back, <span th:text="${#strings.defaultString(user.firstName, user.username)}"></span></h1>
            </div>

            <hr class="hr-1">

            <div class="quick-stats">
                <h2>🔥 Workout Streak: <span th:text="${streak}"></span> Days</h2>
                <h2>📅 Completed Workouts: [<span th:text="${totalWorkouts}"></span>]</h2>
                <p>🏋️ “Your last workout focused on <span th:text="${lastMuscleGroup}"></span>.” </p>
            </div>

            <div class="cta-section">
                <a th:href="@{/progress}" class="cta-button">
                    <div class="overlay"></div>
                    <img th:src="@{/images/measure.jpg}" alt="Progress background" />
                    <span>View Progress</span>
                </a>
                <a th:href="@{/workout}" class="cta-button">
                    <div class="overlay"></div>
                    <img th:src="@{/images/workout.jpg}" alt="Workout background" />
                    <span>Workout Now</span>
                </a>
                <a th:href="@{'/users/' + ${user.id} + '/profile'}" class="cta-button">
                    <div class="overlay"></div>
                    <img th:src="@{/images/arnold-front-double.webp}" alt="Edit Profile background" />
                    <span>View Profile</span>
                </a>
            </div>

            <div class="recent-activity">
                <h2>📌 Last Completed Workout</h2>
                <p>Date: <span th:text="${lastWorkoutDate}"></span></p>
                <p>Exercises: <span th:each="exercise : ${lastWorkoutExercises}" th:text="${exercise} + ' | '" ></span></p>
            </div>

            <div class="muscle-focus">
                <h2>💡 Focus on <span th:text="${nextMuscleGroup.name}"></span> Today</h2>
                <p>You haven't trained this muscle group in a while! Here are some suggested exercises.</p>

                <div class="exercise-row">
                    <div class="exercise-card" th:each="exercise : ${suggestedExercises}">
                        <img th:src="${exercise.gifUrl}" alt="Exercise">
                        <span th:text="${exercise.name}"></span>
                    </div>
                </div>
            </div>

            <div class="motivational-section">
                <h2>💪 Quote of the Day</h2>
                <p>"Strength doesn’t come from what you can do, it comes from overcoming the things you once thought you couldn’t."</p>
                <p>🏆 Milestone:
                    “You’ve completed [<span th:text="${monthlyWorkouts}"></span>] workouts this month!
                    Keep pushing!”
                </p>
            </div>

            <th:block th:insert="~{fragments/footer :: footer}"></th:block>
        </div>
    </main>
</div>
</body>
</html>
